# Misure di complessità
>[!info]
>Siamo alla dispensa 6, paragrafo 6.1

Una **misura di complessità** è *una funzione **c*** che associa un valore numerico ad una macchina di Turing $T$ e ad un suo input x.
$c(T,x)$ intende rappresentare il “costo” della computazione $T(x)$.
Affinché c possa essere considerata una misura di complessità, essa deve soddisfare le due seguenti proprietà, note come **assiomi di Blum**: 
1) <u>c è definita per tutte e sole le computazioni che terminano.</u> Se una computazione T(x) non termina, non ha senso considerare che tale computazione abbia come costo un valore finito; 
2) <u>c deve essere una funzione calcolabile</u>, ossia, deve esistere una macchina di Turing $M$ che, ricevendo in input una macchina di Turing $T$ ed un suo input $x$, calcola $c(T,x)$ ogni volta $c(T,x)$ è definita (cioè, ogni volta $T(x)$ termina). 
Intuitivamente, questo significa che, il costo di una computazione $T(x)$ (che termina) dobbiamo poterlo calcolare effettivamente. ù
## Misure deterministiche
Iniziamo con le misure di complessità che si riferiscono a computazioni deterministiche.
- <u>Per ogni macchina di Turing deterministica T </u> (riconoscitore o trasduttore), definita su un alfabeto $\Sigma$; 
- <u>Per ogni</u> $x\in\Sigma^*$; 
Definiamo le due *funzioni* seguenti associate alla computazione $T(x)$: 																					
$$
dtime(T,x) =\begin{cases} 
numero\space di\space istruzioni \space eseguite\space da\space T(x)\space se\space T(x)\space termina &\\
non\space definita\space \space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space se\space T(x)\space non\space termina
\end{cases} $$
$$dspace(T,x)=\begin{cases}
numero\space di\space celle\space di\space memoria\space usate\space da\space T(x)\space se\space T(x)\space termina &\\non\space definita\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space\space se\space T(x)\space non\space termina
\end{cases}
$$
Osserviamo che $dtime$ e $dspace$ sono due funzioni parziali: non sono definite se $T(x)$ non termina.
Dimostriamo ora che le funzioni **dtime** e **dspace** soddisfano i due assiomi di Blum. 
1) Per ogni macchina di Turing deterministica $T$ e per ogni $x\in\Sigma^*$, $dtime(T,x)$ e $dspace(T,x)$ sono definite se e solo se $T(x)$ termina. 
2)  Dobbiamo mostrare che $dtime$ e $dspace$ sono calcolabili. 
Iniziamo da $dtime$:
Consideriamo una **modifica** $U_{dtime}$ della macchina di Turing universale $U$: 
aggiungiamo ad $U$ il nastro $N_5$ che fungerà da contatore del numero di istruzioni della computazione $T(x)$.
$U_{dtime}(T,x)$ si comporta come $U(T,x)$ con l’unica differenza che, dopo avere eseguito una quintupla della macchina $T$ su input $x$ ed essersi preparata ad eseguire la quintupla successiva, scrive un 1 sul nastro $N_5$ e muove a destra la testina su tale nastro. 
Al termine della computazione $U_{dtime}(T,x)$ (se essa termina) il nastro $N_5$ conterrà, codificato in unario ( serie di 1 ), il numero di passi eseguiti dalla computazione $T(x)$. Dunque, $dtime$ è una funzione calcolabile. 
La dimostrazione che $dspace$ è una funzione calcolabile è simile .
## Misure non deterministiche
Passiamo ora a definire  le misure di complessità che si riferiscono a computazioni non deterministiche. Per ogni macchina di Turing non deterministica $NT$ (riconoscitore, per forza!), definita su un alfabeto $\Sigma$, e per ogni $x\in\Sigma^*$ tali che $NT(x)$ **ACCETTA**, definiamo le due funzioni seguenti: 
1. $ntime(NT,x)$ = *minimo* numero di istruzioni eseguite da una computazione deterministica accettante di  $NT(x)$; 
2. $nspace(NT,x)$ = *minimo* numero di celle utilizzate da una computazione deterministica accettante di $NT(x)$.
Osservate che $ntime$ e $nspace$ sono due funzioni parziali – molto parziali, avendole definite solo per computazioni accettanti.
Potremmo aggiungere: **se $NT(x)$ non accetta**, anche quando $NT(x)$ termina, allora:
1. $ntime(NT,x)$ non è definita;
2. $nspace(NT,x)$ non è definita.
Ma perché, nella definizione di $ntime$ e $nspace$ si parla di  computazioni che “accettano” invece che di computazioni che “terminano”?
Ve la ricordate quell'asimmetria nelle definizioni di accettazione e di rigetto di una macchina non deterministica?
1. $NT(x)$ accetta se *esiste* una sua computazione deterministica che accetta;
2. $NT(x)$ rigetta se **tutte** le sue computazioni deterministiche rigettano.
Perciò, se vogliamo estendere le definizioni di $ntime$ e $nspace$ a tutte le computazioni che terminano, dobbiamo dire che: per ogni macchina di Turing non deterministica $NT$, definita su un alfabeto $\Sigma$, e per ogni $x\in\Sigma^*$ tali che $NT(x)$ **RIGETTA**, 
1. $ntime(NT,x)$ = *massimo* numero di istruzioni eseguite da una computazione deterministica rigettante di $NT(x)$; 
2. $nspace(NT,x)$ = *massimo* numero di celle utilizzate da una computazione deterministica rigettante di $NT(x)$.
Anche con questa estensione, le funzioni $ntime$ e $nspace$ restano funzioni parziali.
### Relazioni fra spazio e tempo
>[!important]- Teorema 6.1 (caso deterministico) 
>Sia $T$ una macchina di Turing **deterministica**, definita su un alfabeto  (non contenente il simbolo $\square$ ) e un insieme degli stati $Q$, e sia $x\in\Sigma^*$  tale che $T(x)$ termina. Allora,
>$dspace(T,x)\leq dtime(T,x)\leq dspace(T,x)|Q|\space\space (|\Sigma|+1)^{dspace(T,x)}$. 

1) $dspace(T,x)\leq dtime(T,x)$
Se $T(x)$ utilizza $dspace(T,x)$ celle di memoria, quelle celle deve almeno leggerle, e, per leggere ciascuna cella impiega un’istruzione (ossia, esegue una quintupla). Fine.
Beh, in realtà, potrebbe utilizzare un input molto più lungo del necessario; pensate, ad esempio, se per sommare i due numeri 15 e 6, scrivessimo l’input nella forma: $00000000000000000000000000000000000000000000000000000000000000000=15+6$ e poi posizionassimo la testina sul carattere ’=‘ all’inizio della computazione: in questo caso non avremmo bisogno di leggere i tantissimi ‘0’ iniziali. Per questo la definizione di $dspace$ è un po’ diversa da quella che abbiamo visto, ma noi ci teniamo quella e non consideriamo questi casi “anomali”.
>[!important]- Teorema 6.1 (caso deterministico)
>Sia $T$ una macchina di Turing deterministica, definita su un alfabeto $\Sigma$ (non contenente il simbolo $\square$ ) e un insieme degli stati Q, e sia $x\in\Sigma^*$ tale che $T(x)$ termina. Allora,
>$dtime(T,x)\leq dspace(T,x) |Q|\space\space (|\Sigma|+1)^{dspace(T,x)}$
1)  $dtime(T,x)\leq dspace(T,x) |Q|\space\space(|Sigma|+1)^{dspace(T,x)}$
Osserviamo che $dtime(T,x)\leq dspace(T,x) |Q| \space\space(|\Sigma|+1)^{dspace(T,x)}$  è il numero di stati globali possibili di $T$ nel caso in cui non più di $dspace(T,x)$ celle del nastro vengano utilizzate dalla computazione $T(x)$.
Infatti: 
poiché ogni cella del nastro può contenere un simbolo di $\Sigma$ oppure il blank, il numero di possibili configurazioni di $dspace(T,x)$ celle del nastro è $(|Sigma|+1)^{dspace(T,x)}$.
Poi, per ognuna di queste configurazioni:
1. La testina può trovarsi su una qualsiasi delle $dspace(T,x)$ celle
2. La macchina può essere in uno qualsiasi dei $|Q|$ stati interni
Chiamiamo $k(T,x)$ questo valore: $k(T,x) = dspace(T,x)|Q|(|Sigma|+1)^{dspace(T,x)}$ 
